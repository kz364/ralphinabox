---
task_id: "task-001"
repo_url: "https://github.com/ORG/REPO.git"
base_branch: "main"

# Branch strategy
target_branch_prefix: "ralph/task-001/"
target_branch_slug: "implement-foo"   # becomes ralph/task-001/implement-foo

# Sandbox
sandbox_provider: "daytona"           # daytona | local
sandbox_image: "ghcr.io/your-org/ralph-node-python:latest"  # optional override
sandbox_resources:
  vcpu: 2
  memory_gib: 4
  disk_gib: 20

# Model selection (via LiteLLM)
model_profile_default: "default-cheap"    # maps to config/models.yaml
model_profile_fallback: "strong-doctor"   # optional

# Budgets (hard stops)
max_iterations: 30
max_wall_time_minutes: 120
max_cost_usd_estimate: 10
max_consecutive_gutter: 3

# Verification
# If you can, keep a SINGLE gate that implies success (tests/lint/types)
test_command: "npm test"
# Optional extra verifiers (used by spec-linter + runner)
verify_commands:
  - "npm test"
  - "npm run lint"
  - "npm run typecheck"

# PR settings (runner-owned)
pr:
  draft: true
  labels: ["ralph"]
  title_template: "[Ralph] Implement Foo: task-001"
  body_template: |
    ## Summary
    Implements Foo per task-001.

    ## Verification
    - `npm test`
    - `npm run lint`
    - `npm run typecheck`

    ## Notes
    - Generated by ralph-sandbox.
---

# Task: Implement Foo (task-001)

## Context
Write 2–4 sentences about what this is and where in the repo it belongs.

## Constraints (non-negotiable)
- Do not rewrite unrelated modules.
- Keep diffs minimal and reviewable.
- Prefer small commits with clear messages.
- If a change could break public API, call it out in PR body.

## Success criteria (checkboxes)
> IMPORTANT: Every checkbox should be objectively verifiable.

### Milestone M1 — Behavior
- [ ] M1.1 Foo endpoint returns 200 for valid input  
  - verify: `node scripts/verify-foo.js` (or a curl command)
- [ ] M1.2 Foo endpoint returns 400 for invalid input  
  - verify: `node scripts/verify-foo-invalid.js`

### Milestone M2 — Quality gates
- [ ] M2.1 Unit tests added/updated for Foo  
  - verify: `npm test`
- [ ] M2.2 Lint passes  
  - verify: `npm run lint`
- [ ] M2.3 Types pass  
  - verify: `npm run typecheck`

## Implementation notes (optional but helpful)
- Files likely involved:
  - `src/foo/*`
  - `src/server.ts`
- Expected commands:
  - install: `npm ci`
  - tests: `npm test`

## “Definition of Done”
- All checkboxes above checked.
- `test_command` exits 0.
- PR opened and updated with final changes.
